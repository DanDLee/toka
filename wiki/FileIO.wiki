#summary An overview of the File I/O words

= Introduction =

Toka provides a basic, but fairly complete set of words for dealing with files. To make full use of this, you should have the standard bootstrap loaded.


= Primitives =

|| file.open || $m-n || Open a specified file with the specified mode. Returns a handle. || *primitive* ||
|| file.close || n- || Close a file. || *primitive* ||
|| file.read || nbl-r || Read _l_ bytes into a buffer (_b_) from file handle _n_. Returns the number of bytes read. || *primitive* ||
|| file.write || nbl-r || Write _l_ bytes from a buffer (_b_) to file handle _n_. Returns the number of bytes written. || *primitive* ||
|| file.size || n-s || Return the size of the file (referenced by handle _n_). Result is in bytes. || *primitive* ||
|| file.seek || nom-a || Seek a new position in a file (referenced by handle _n_). Adjust by offset _o_, using a mode (_m_). Returns the new position.  || *primitive* ||
|| file.pos || n-a || Return a pointer (_a_) to the current offset into file handle _n_. || *primitive* ||


= Bootstap Extentions =

|| file.slurp || $-a || Open a file (name passed by _$_) and read it into a dynamically allocated buffer (_a_). The file is then closed. || *quote* ||
|| "R" || -n || Open text file for reading. The stream is positioned at the beginning of the file. || *quote* ||
|| "R+" || -n || Open for reading and writing. The stream is positioned at the beginning of the file. || *quote* ||
|| "W" || -n || Open for reading and writing. The stream is positioned at the beginning of the file. || *quote* ||
|| "W+" || -n || Open for reading and writing. The file is created if it does not exist, otherwise it is truncated. The stream is positioned at the beginning of the file. || *quote* ||
|| "A" || -n || Open for appending (writing at end of file). The file is created if it does not exist. The stream is positioned at the end of the file. || *quote* ||
|| "A+" || -n || Open for reading and appending (writing at end of file). The file is created if it does not exist. The initial file position for reading is at the beginning of the file, but output is always appended to the end of the file. || *quote* ||
|| START || -n || For use with _file.setpos_. Seek from beginning of a file. || *quote* ||
|| CURRENT || -n || For use with _file.setpos_. Seek from current offset in a file. || *quote* ||
|| END || -n || For use with _file.setpos_. Seek from end of a file. || *quote* ||

