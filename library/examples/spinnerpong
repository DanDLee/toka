#! /usr/bin/toka
needs console
needs sdl

0 SDL_Init reset

[ char: . emit ] is dot

[ 4 mod " |/-\\" + c@ emit ] is spinner

[ [ space ] iterate ] is spaces

[ 24 mod dup 24 swap - dup swap
  spinner swap
  dup 12 >
  [ 12 - dup 11 swap - spaces dot spaces ]
  [ dup 11 swap - swap spaces dot spaces ]
  ifTrueFalse
  4 mod 4 swap - spinner
] is pingpong

[ clear 1000 [ home i pingpong 2 SDL_Delay drop ] iterate ] is demo
demo bye
