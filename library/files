#! Extensions to make working with files easier


#! file.slurp
#! ( $-a )
#! Read a file (name passed on stack) into a dynamically allocated
#! buffer. Returns the buffer address.

[ "R" file.open dup dup
  file.size 1 + dup malloc dup >r swap
  file.read drop 
  file.close r>
] is file.slurp
