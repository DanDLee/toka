#! /usr/bin/toka

needs sockets
needs strings

{
  variable| socket maxlength |

  [ socket @ swap +lf count pWrite ] is send

  1024 1024 * chars is-array buffer

  " www.google.com" is-data URL
  " GET / HTTP/1.0\nHOST: www.google.com\n\n" is-data REQUEST

  1024 1024 * chars maxlength !

  URL 80 pConnect socket !
  REQUEST send

  20 [ socket @ buffer maxlength @ pRead
       buffer type reset
     ] iterate 
}
cr bye
