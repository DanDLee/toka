<html><head><title>toka.nbk: files.c</title>
</head>
<body>


<p><b>toka.nbk:</b> <a href="home.html">Home</a> | <a href="index.html">Index</a> | Next Page: <a href="first_steps.html">First Steps</a> | Previous Page: <a href="files.html">Files</a></p>

<hr>

<h1>&nbsp;files.c</h1>


<h2>Use</h2>

<p>Allows for reading and writing data to files.
</p>
<h2>Functions Provided</h2>

<pre>file_open()
Open a file using the specified mode. Modes are
a direct map to the fopen() modes: "r", "r+", "w",
"w+", "a", and "a+". Numeric values for these are
1 - 6, in that order.

file_close()
This is just a simple wrapper over fclose().

file_read()
This is just a simple wrapper over fread().

file_write()
This is just a simple wrapper over fwrite().

file_size()
This is just a simple wrapper over fstat() which
returns the size of the file.

file_seek()
This is just a simple wrapper over fseek().

file_pos()
This is just a simple wrapper over ftell().
</pre>

<h2>Primitives Provided</h2>

<pre>file.open  ( $m-n )  Open a specified file with
                     the specified mode.
file.close ( n- )    Close the specified file handle
file.read  ( nbl-r ) Read 'l' bytes into buffer 'b'
                     from file handle 'n'. Returns
                     the number of bytes read.
file.write ( nbl-w ) Write 'l' bytes from buffer 'b'
                     to file handle 'n'. Returns
                     the number of bytes written.
file.size  ( n-s )   Return the size (in bytes)
                     of the specified file.
file.seek  ( nom-a ) Seek a new position in the
                     file. Valid modes are
                     START, CURRENT, and END. These
                     have values of 1, 2, and 3.
file.pos   ( n-a )   Return a pointer to the current
                     offset into the file.
</pre>

<h2>Related Words</h2>

<pre>"R"         ( -x )   Mode for file.open
"R+"        ( -x )   Mode for file.open
"W"         ( -x )   Mode for file.open
"W+"        ( -x )   Mode for file.open
"A"         ( -x )   Mode for file.open
"A+"        ( -x )   Mode for file.open
START       ( -x )   Mode for file.seek
CURRENT     ( -x )   Mode for file.seek
END         ( -x )   Mode for file.seek
file.slurp  ( $-a )  Read a file into a dynamically allocated buffer 
</pre>


<hr>

<p><b>toka.nbk:</b> <a href="home.html">Home</a> | <a href="index.html">Index</a> | Next Page: <a href="first_steps.html">First Steps</a> | Previous Page: <a href="files.html">Files</a></p>

<hr>

<p><i>Notebook exported on Saturday,  4 August 2007, 21:48:57 PM EDT</i></p>

</body></html>
